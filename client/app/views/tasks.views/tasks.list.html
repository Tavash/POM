<div layout="row" flex>

  <div flex="90" layout layout-align="center" >
    <div>
      <h4>Liste des tâches</h4>
    </div>
  </div>

  <div flex="10">
  <div style="padding-top:12px">
    <md-checkbox ng-model="tasksListVm.isFiltersEnabled">
      Filtre
    </md-checkbox>
  </div>
</div>

</div>
<br>
<div layout layout-align="center" >
   <!--  <table flex="70" class="table table-striped table-hover">
      <thead>
      <tr>
        <th>Code</th>
        <th>Nom</th>
        <th>Date début</th>
        <th>Statut</th>
        <th>Dernière modification</th>
        <th>Supprimer</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="task in tasksListVm.tasks" ng-switch on="task.statut" ng-dblClick="tasksListVm.redirectTasksDetails($event, task._id)">

        <td><a ui-sref="projects.details.tasks.details({idtask:task._id})"> {{ task.code }} </a></td>
        <td><a ui-sref="projects.details.tasks.details({idtask:task._id})"> {{ task.libelle }} </a></td>
        <td>{{ task.date_debut | date:"dd/MM/yyyy" }}</td>
        <td ng-switch-when="Initial"><i class="material-icons" style="color:blue;font-size:1.5em;">fiber_new</i></td>
        <td ng-switch-when="En cours"><i class="fa fa-cog fa-spin fa-fw margin-bottom" style="color:orange;font-size:1.5em;"></i></td>
        <td ng-switch-when="Terminé(e)"><span class="fa fa-check-circle" style="color:green;font-size:1.5em;"></span></td>
        <td ng-switch-when="Annulé(e)"><span class="fa fa-times-circle" style="color:red;font-size:1.5em;"></span></td>
        <td>{{ task.date_derniere_modif | date:"dd/MM/yyyy 'à' HH:mm:ss" }}</td>
        <td><a ng-click="tasksListVm.deleteTask(task._id)"><span class="fa fa-trash-o fa-lg" style="color: red;"></span> </a></td>

      </tr>
      </tbody>
    </table> -->

    <br>
    <br>

<div>
    <table ng-table="tasksListVm.tableParams" show-filter="tasksListVm.isFiltersEnabled" class="table table-striped table-hover">
      <tr ng-repeat="row in $data" ng-dblClick="tasksListVm.redirectTasksDetails($event, row._id)">
        <td title="'Code'" filter="{code: 'text'}" sortable="'code'"><a ui-sref=".details({idtask:row._id})"> <b>{{ row.code }}</b> </a></td>
        <td title="'Libelle'" filter="{libelle: 'text'}" sortable="'libelle'"><a ui-sref=".details({idtask:row._id})"> <b>{{ row.libelle }}</b> </a></td>
      
        <td title="'Date début'" filter="{date_debut: 'text'}" sortable="'date_debut'">{{row.date_debut | date:"dd/MM/yyyy" }}</td>
        
        <td title="'Statut'" sortable="'statut.statut'"><span class="{{row.statut.class}}" style="color:{{row.statut.color}};font-size:1.5em;"><md-tooltip md-direction="left">{{row.statut.statut}}</md-tooltip></span></td>

        <td title="'Dernière modification'" filter="{date_derniere_modif: 'text'}" sortable="'date_derniere_modif'" >{{ row.date_derniere_modif | date:"dd/MM/yyyy 'à' HH:mm:ss" }}</td>

        <td ng-click="tasksListVm.deleteTask(row._id)">
          <span class="fa fa-trash-o fa-lg" style="color: red;">
        </td>
      
      </tr>
    </table>

    <div layout="row" layout-align="center">
      <md-input-container class="md-block">
          <md-button nra-auth="['manager','admin']" class="md-raised md-primary" type="submit" ui-sref=".create">Créer une nouvelle tâche</md-button>
      </md-input-container>
    </div>

  </div>
</div>

