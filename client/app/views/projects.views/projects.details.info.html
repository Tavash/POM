<div layout="row" flex  layout-align="center">
    <h4>Détails du projet</h4>
</div>
<br>
<div flex layout>
  <div flex layout layout-align="center center">
    <form>
      <div layout layout-align="center center">
        <div flex="45">
          <md-input-container class="md-block">
            <label>Nom du projet</label>
            <input ng-model="projectsDetailsVm.project.nom" maxlength="20" required>
          </md-input-container>
        </div>
        <div flex="10"></div>
        <div flex="45">
          <md-input-container class="md-block">
            <label>Chef de projet</label>
            <input ng-model="projectsDetailsVm.chef_projet" disabled>
          </md-input-container>
        </div>
      </div>

      <div layout layout-align="center center">
        <div flex="45">
          <label>Date de début</label>
          <md-datepicker ng-model="projectsDetailsVm.project.date_debut" md-min-date="projectsDetailsVm.minDateProject" ng-value="projectsDetailsVm.project.date_debut"></md-datepicker>
        </div>
        <div flex="10"></div>
        <div flex="45">
          <label>Date de fin <b>théorique</b></label>
          <md-datepicker ng-model="projectsDetailsVm.project.date_fin_theorique" md-min-date="projectsDetailsVm.project.date_debut"  ng-value="projectsDetailsVm.project.date_fin_theorique"></md-datepicker>
        </div>
      </div>

      <br>
      <br>
      <div layout layout-align="center center">
        <div flex="45">
          <md-input-container class="md-block">
            <label>Statut</label>
            <md-select ng-model="projectsDetailsVm.project.statut" >
              <md-option ng-repeat="statut in projectsDetailsVm.statuts" value="{{statut}}">{{statut}}</md-option>
            </md-select>
          </md-input-container>
        </div>

        <div flex="10"></div>

        <div flex="45">
          <md-input-container class="md-block">
            <label>Ligne budgétaire</label>
            <md-select ng-model="projectsDetailsVm.selectedBudget" >
              <md-option ng-repeat="budget in projectsDetailsVm.budgets" ng-value="budget" >
                {{ budget.libelle }} - {{ budget.montant }} €
              </md-option>
            </md-select>
          </md-input-container>
        </div>
      </div>

      <br>
      
      <div layout layout-align="center center">
        <div flex="45">
          <label>Date de fin <b>réelle</b></label>
          <md-datepicker ng-model="projectsDetailsVm.project.date_fin_reelle" md-min-date="projectsDetailsVm.project.date_debut" md-placeholder="Entrer date"></md-datepicker>
        </div>
        <div flex="10"></div>
        <div flex="45">
          <md-input-container class="md-block">
            <div layout="row" flex>
              <md-button class="md-raised" ng-click="projectsDetailsVm.showCollaboratorPicker($event)">
                Choisir les collaborateurs
              </md-button>
            </div>
          </md-input-container>
        </div>
      </div>

      <br>
      <div layout layout-align="center center">
        <div>
          <md-input-container class="md-block">
            <md-button class="md-raised" ng-click="projectsDetailsVm.showCancelDialog()">Annuler</md-button>
            <md-button class="md-raised md-primary" type="submit" ng-click="projectsDetailsVm.updateProject()">Enregistrer</md-button>
          </md-input-container>
        </div>
      </div>

    </form>

  </div>
</div>
