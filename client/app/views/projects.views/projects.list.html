<md-card ng-cloak>
  
  <md-toolbar layout="row" layout-align="center center">
    <div class="md-toolbar-tools">
      <h2 class="md-flex">Liste des projets</h2>
    </div>
  </md-toolbar>

  <md-card-content>
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th>Nom</th>
          <th>Code</th>
          <th>Date début</th>
          <th>Statut</th>
          <th>Dernière modification</th>
          <th>Archiver</th>
          <th>Supprimer</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="project in projectsListVm.projects" ng-switch on="project.statut">

          <td><a ui-sref=".details.info({id:project._id})"> <b>{{ project.nom }}</b> </a></td>
          <td><a ui-sref=".details.info({id:project._id})"> <b>{{ project.code }}</b> </a></td>
          <td>{{ project.date_debut | date:"dd/MM/yyyy" }}</td>
          <td ng-switch-when="Initial"><i class="material-icons" style="color:blue;font-size:1.5em;">fiber_new</i></td>
          <td ng-switch-when="En cours"><i class="fa fa-cog fa-spin fa-fw margin-bottom" style="color:orange;font-size:1.5em;"></i></td>
          <td ng-switch-when="Terminé(e)"><span class="fa fa-check-circle" style="color:green;font-size:1.5em;"></span></td>
          <td ng-switch-when="Annulé(e)"><span class="fa fa-times-circle" style="color:red;font-size:1.5em;"></span></td>

          <td>{{ project.date_derniere_modif | date:"dd/MM/yyyy 'à' HH:mm:ss" }}</td>

          <!-- TODO -->
          <td><a ng-click="projectsListVm.archiveProject(project._id)"><span class="fa fa-archive fa-lg" style="color: gray;"></span> </a></td>

          <td><a ng-click="projectsListVm.deleteProject(project._id)"><span class="fa fa-trash-o fa-lg" style="color: red;"></span> </a></td>

        </tr>
      </tbody>
    </table>

    <div layout="row" layout-align="center">
      <md-input-container class="md-block">
        <div layout="row">
          <md-button nra-auth="['manager','admin']" class="md-raised md-primary" type="submit" ui-sref=".create">Créer un nouveau projet</md-button>
        </div>
      </md-input-container>
    </div>

  </md-card-content>
</md-card>
<br>

