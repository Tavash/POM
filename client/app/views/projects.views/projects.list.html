<section ng-controller="ProjectsCtrl">
<!-- <div ng-hide="showForm" > -->
  <table class="table table-striped table-hover">
	<thead>
      <tr>
        <th>Nom</th>
        <th>Chef de projet</th>
        <th>Date début</th>
        <th>Statut</th>
        <th>Collaborateurs</th>
        <th>Date modification</th>
        <th>Supprimer ?</th>
      </tr>
    </thead>
    <tbody>
	    <tr ng-repeat="project in projects" ng-switch on="project.statut">

			<!--<td><a ng-click="getProjectById(project._id)">{{ project.nom }}</a></td>-->
      <td><a ui-sref=".details({id:project._id})"> {{ project.nom }} </a></td>
			<td> {{ project.chef_projet }} </td>
			<td>{{ project.date_debut | date:'dd/MM/yyyy' }}</td>
			<td ng-switch-when="En cours"><span class="glyphicon glyphicon-exclamation-sign" style="color: orange;font-size:1.5em;"></span></td>
			<td ng-switch-when="Terminé"><span class="glyphicon glyphicon-ok-circle" style="color:green;font-size:1.5em;"></span></td>
			<td ng-switch-when="Annulé"><span class="glyphicon glyphicon-remove-circle" style="color:red;font-size:1.5em;"></span></td>
			<td>{{ project.collaborateurs }}</td>
			<td>{{ project.infos_techniques.modification | date:'dd/MM/yyyy' }}</td>

        <!--<td><a ng-click="getProjectById(project._id)">{{ project.nom }}</a></td>-->
        <!--
        <td><a ng-href="#/projects/{{project._id}}"> {{ project.nom }} </a></td>
        <td><a ng-href="#/collaborators/{{project.chef_projet}}"> {{ project.chef_projet }} </a></td>
        <td>{{ project.date_debut | date:'dd/MM/yyyy' }}</td>
        <td ng-switch-when="En cours"><span class="glyphicon glyphicon-exclamation-sign" style="color: orange;font-size:1.5em;"></span></td>
        <td ng-switch-when="Terminé"><span class="glyphicon glyphicon-ok-circle" style="color:green;font-size:1.5em;"></span></td>
        <td ng-switch-when="Annulé"><span class="glyphicon glyphicon-remove-circle" style="color:red;font-size:1.5em;"></span></td>
        <td>{{ project.collaborateurs }}</td>
        <td>{{ project.infos_techniques.modification | date:'dd/MM/yyyy' }}</td>
        <td><a ng-click="showModalDeleteProject(project._id)"><span class="glyphicon glyphicon-remove-circle" style="color: orange;font-size:1.5em;"></span> </a></td>
        -->

      </tr>
	</tbody>
</table>
 <!--  <input class="btn btn-md btn-success btn-block" type="submit" value="Créer un nouveau projet" ng-click="showFormCreateProject()"> <br>

</div>


<!--
  var schemaProject = mongoose.Schema({
  nom: String,
  chef_projet: mongoose.Schema.ObjectId,
  date_debut: { type: Date, default: Date.now },
  date_fin_theorique: Date,
  date_fin_reelle: Date,
  statut : String, // En cours, Terminé, Annulé, Supprimé
  collaborateurs: [ mongoose.Schema.ObjectId ],
  infos_techniques: {
  creation: { type: Date, default: Date.now },
  modification:  { type: Date, default: Date.now }
  },
  ligne_budgetaire: mongoose.Schema.ObjectId

  });
  -->



  <div ng-show="showForm" >

    <form class="form-horizontal" >
      <fieldset>
        <legend>Nouveau projet</legend>

        <div class="form-group">
          <label for="inputNom" class="col-lg-2 control-label">Nom</label>
          <div class="col-lg-10">
            <input class="form-control" id="inputNom" placeholder="Nom" type="text" ng-model="nameNewProject">
          </div>
        </div>

        <div class="form-group">
          <label for="select" class="col-lg-2 control-label">Chef de projet</label>
          <div class="col-lg-10">
            <select class="form-control" id="select" ng-model="collaboratorIdNewProject" > <!-- ng-model="collaborator.name" -->
              <option value="">-- Sélectionner un chef de projet --</option>
              <option ng:repeat="collaborator in collaborators" value="{{collaborator._id}}">
                {{collaborator.prenom}} {{collaborator.nom}}
              </option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label for="textArea" class="col-lg-2 control-label">Commentaires complémentaires</label>
          <div class="col-lg-10">
            <textarea class="form-control" rows="2" id="textArea"></textarea>
          </div>
        </div>

        <div class="form-group">
          <div class="col-lg-10 col-lg-offset-2">
            <button type="reset" class="btn btn-default" ng-click="hideFormCreateProject()"> Annuler </button>
            <button type="submit" class="btn btn-primary" ng-click="createProject()"> Créer </button>
          </div>
        </div>
      </fieldset>
    </form>

  </div>

</section>


<!--
<div class="form-group">
  <label for="select" class="col-lg-2 control-label">Statut</label>
  <div class="col-lg-10">
    <div class="checkbox">
      <label>
        <input type="checkbox"> En cours
      </label>
      <br>
      <label>
        <input type="checkbox"> Annulé
      </label>
      <br>
      <label>
        <input type="checkbox"> Terminé
      </label>
    </div>
  </div>
</div>
-->





