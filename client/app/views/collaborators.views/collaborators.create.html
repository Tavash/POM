<md-card>

  <md-toolbar layout=""row">
  <div class="md-toolbar-tools">
    <h2 class="md-flex">Création d'un nouveau collaborateur</h2>
  </div>
  </md-toolbar>

  <md-card-content>

    <form class="form-horizontal" name="createCollaboratorForm">
      <!-- Nom -->
      <md-input-container class="md-block">
        <label>Nom</label>
        <input maxlength="20" ng-model="collaborator.lastName" name="nom" required>
        <div ng-messages="createCollaboratorForm.nom.$error">
          <div ng-message="required">Ce champ est obligatoire.</div>
          <div ng-message="md-maxlength">Le nom ne doit pas dépasser 20 caractères.</div>
        </div>
      </md-input-container>

      <!-- Prénom -->
      <md-input-container class="md-block">
        <label>Prénom</label>
        <input maxlength="20" ng-model="collaborator.firstName" name="prenom" required>
        <div ng-messages="createCollaboratorForm.prenom.$error">
          <div ng-message="required">Ce champ est obligatoire.</div>
          <div ng-message="md-maxlength">Le prénom ne doit pas dépasser 20 caractères.</div>
        </div>
      </md-input-container>

      <!-- Login -->
      <md-input-container class="md-block">
        <label>Login</label>
        <input maxlength="10" ng-model="collaborator.login" name="login" required>
        <div ng-messages="createCollaboratorForm.login.$error">
          <div ng-message="required">Ce champ est obligatoire.</div>
          <div ng-message="md-maxlength">Le login ne doit pas dépasser 10 caractères.</div>
        </div>
      </md-input-container>

      <!-- Rôle -->
      <md-input-container class="md-block">
        <label>Rôle</label>
        <md-select ng-model="collaborator.role" >
          <md-option ng-repeat="role in roles" value="{{role}}" required>
            {{role}}
          </md-option>
        </md-select>
      </md-input-container>

      <br>

      <!-- Manager -->
      <md-input-container class="md-block">
        <label>Manager</label>
        <md-select ng-model="collaborator.manager">
          <md-option ng-repeat="collaborator in collaborators" value="{{ collaborator._id }}">
            {{ collaborator.prenom }} {{ collaborator.nom }}
          </md-option>
        </md-select>
      </md-input-container>

      <br>

      <!-- Coût horaire -->
      <md-input-container class="md-block">
        <label>Coût horaire (€)</label>
        <input ng-model="collaborator.cost" type="number" min="0" max="9999" name="cout" required>
        <div ng-messages="createCollaboratorForm.cout.$error" multiple md-auto-hide="true">
          <div ng-message="required">Ce champ est obligatoire.</div>
          <div ng-message="min">Le coût horaire du nouveau collaborateur ne peut pas être inférieur à 0€.</div>
          <div ng-message="max">Le coût horaire du nouveau collaborateur ne peut pas être dépasser 9999€.</div>
        </div>
      </md-input-container>

      <!-- Addresse mail -->
      <md-input-container class="md-block">
        <label>Adresse mail</label>
        <input ng-model="collaborator.email" type="email" ng-pattern="/^.+@.+\..+$/" name="email" required>
        <div ng-messages="createCollaboratorForm.email.$error">
          <div ng-message="required">Ce champ est obligatoire.</div>
          <div ng-message="pattern">L'adresse mail doit être une adresse mail valide.</div>
        </div>
      </md-input-container>

      <!-- Mot de passe -->
      <md-input-container class="md-block">
        <label>Mot de passe</label>
        <input ng-model="collaborator.password" type="password" name="password" minlength="6" maxlength="12" required>
        <div ng-messages="createCollaboratorForm.password.$error">
          <div ng-message="required">Ce champ est obligatoire.</div>
          <div ng-message="minlength">Le mot de passe doit avoir au moins 6 caractères.</div>
          <div ng-message="maxlength">Le mot de passe doit avoir au maximum 12 caractères.</div>
        </div>
      </md-input-container>

      <!-- Confirmation mot de passe -->
      <md-input-container class="md-block">
        <label>Confirmation mot de passe</label>
        <input ng-model="collaborator.confirmPassword" type="password" minlength="6" maxlength="12" name="confirmPassword" required>
        <div ng-messages="createCollaboratorForm.confirmPassword.$error">
          <div ng-message="required">Ce champ est obligatoire.</div>
          <div ng-message="minlength">Le mot de passe doit avoir au moins 6 caractères.</div>
          <div ng-message="maxlength">Le mot de passe doit avoir au maximum 12 caractères.</div>
        </div>
      </md-input-container>

      <md-input-container class="md-block">
        <div layout="row">
          <md-button class="md-raised" ng-click="showCancelDialog($event)">Annuler</md-button>
          <md-button class="md-raised md-primary" type="submit" ng-click="createCollaborator()">Créer</md-button>
        </div>
      </md-input-container>

    </form>

  </md-card-content>

</md-card>

<br>
