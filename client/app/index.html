<!doctype html>
<html ng-app="pomApp" ng-cloak>
  <head>
    <meta charset="utf-8">
    <title ng-bind="'POM - ' + title">POM</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="bower_components/angular-material/angular-material.css" />
    <link rel="stylesheet" href="bower_components/components-font-awesome/css/font-awesome.css" />
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" />
    <link rel="stylesheet" href="bower_components/ng-table/dist/ng-table.min.css" />
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/angular.strap.css">
    <link rel="stylesheet" href="styles/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/styles/main.css">

    <!-- endbuild -->
    <!-- build:js(.) scripts/vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-ui-router/release/angular-ui-router.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-aria/angular-aria.js"></script>
    <script src="bower_components/angular-messages/angular-messages.js"></script>
    <script src="bower_components/angular-material/angular-material.js"></script>
    <script src="bower_components/moment/moment.js"></script>
    <script src="bower_components/angular-local-storage/dist/angular-local-storage.js"></script>
    <script src="bower_components/angular-password/angular-password.js"></script>
    <script src="bower_components/angular-strap/dist/angular-strap.js"></script>
    <script src="bower_components/angular-strap/dist/angular-strap.tpl.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="bower_components/progressbar.js/dist/progressbar.js"></script>
    <script src="bower_components/ng-table/dist/ng-table.min.js"></script>
    <script src="bower_components/ng-letter-avatar/ngletteravatar.js"></script>
    <script src="bower_components/highcharts/highcharts.js"></script>
    <script src="bower_components/highcharts/highcharts-more.js"></script>
    <script src="bower_components/highcharts/modules/exporting.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:js({.tmp,app}) scripts/scripts.js -->
    <script src="scripts/app.js"></script>
    <script src="scripts/controllers/main.js"></script>
    <script src="scripts/controllers/about.js"></script>
    <script src="scripts/controllers/login.js"></script>
    <script src="scripts/controllers/help.js"></script>

    <script src="scripts/controllers/budgets.controller/budgets.list.js"></script>
    <script src="scripts/controllers/budgets.controller/budgets.create.js"></script>

    <script src="scripts/controllers/account.js"></script>
    <script src="scripts/controllers/statistics.js"></script>

    <script src="scripts/controllers/projects.controller/projects.list.js"></script>
    <script src="scripts/controllers/projects.controller/projects.details.js"></script>
    <script src="scripts/controllers/projects.controller/projects.create.js"></script>

    <script src="scripts/controllers/tasks.controller/tasks.list.js"></script>
    <script src="scripts/controllers/tasks.controller/tasks.details.js"></script>
    <script src="scripts/controllers/tasks.controller/tasks.create.js"></script>

    <script src="scripts/controllers/collaborators.controller/collaborators.list.js"></script>
    <script src="scripts/controllers/collaborators.controller/collaborators.details.js"></script>
    <script src="scripts/controllers/collaborators.controller/collaborators.create.js"></script>

    <script src="scripts/services/database.service.js"></script>
    <script src="scripts/services/authenticate.service.js"></script>
    <script src="scripts/services/flash.service.js"></script>
    <script src="scripts/services/utils.service.js"></script>
    <script src="scripts/services/statistics.service.js"></script>
    <script src="scripts/services/charts.service.js"></script>

    <script src="scripts/directives/ng-role-auth.js"></script>
    <script src="scripts/directives/loading.js"></script><!-- 

    <!-- endbower -->
    <!-- endbuild -->
  </head>
  <body>
    <!--[if lte IE 8]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <div class="header">
      <div class="navbar navbar-default navbar-fixed-top" role="navigation" bs-navbar>
        <div class="container-fluid">
          <div class="navbar-header">

            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#js-navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" rel="home" href="#/" title="POM">
              <img id="home_icon" style="margin-top: -10px;" width="40" height="40" src="images/home_icon.png" alt="POM">
            </a>
          </div>

          <div class="collapse navbar-collapse" id="js-navbar-collapse">
            <ul class="nav navbar-nav">
              <!-- <li ng-show="!isAuthenticated"><img src="images/slogan.png" alt="Slogan"></li> -->
              <li data-match-route="/$"><a ui-sref="/" nra-auth="['admin', 'collaborateur', 'manager']"><span id="accueil" class="fa fa-home fa-lg"></span> Accueil</a></li>
              <li data-match-route="/projects" ><a ui-sref="projects" nra-auth="['admin', 'collaborateur', 'manager']"><span id="projets" class="fa fa-briefcase"></span> Projets</a></li>
              <li data-match-route="/collaborators" ><a ui-sref="collaborators" nra-auth="['admin','manager']" ><span id="collaborateurs" class="fa fa-users"></span> Collaborateurs</a></li>
              <li data-match-route="/budgets"><a ui-sref="budgets" nra-auth="['admin']"><span id="budgets" class="fa fa-euro" ></span> Lignes budgétaire</a></li>
              <li data-match-route="/statistics"><a ui-sref="statistics" nra-auth="['admin', 'collaborateur', 'manager']" ><span id="statistiques" class="fa fa-bar-chart"></span> Statistiques</a></li>
             <!--  <li data-match-route="/settings"><a ui-sref="settings" nra-auth="['admin', 'collaborateur', 'manager']" >Préférences</a></li> -->
              <li data-match-route="/about"><a ui-sref="about" nra-auth="['admin', 'collaborateur', 'manager']" ><span id="a_propos" class="fa fa-info-circle" ></span> A propos</a></li>
              <li data-match-route="/help"><a ui-sref="help" nra-auth="['admin', 'collaborateur', 'manager']" ><span id="aide" class="fa fa-question-circle" aria-hidden="true"></span> Aide</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">             
              <li style="margin-right: 30px" ng-show="isAuthenticated" bs-dropdown aria-haspopup="true" aria-expanded="false">
                <a>
                  <ng-letter-avatar dynamic="true" data="{{userFirstname}}" shape="round" height="20" width="20" fontSize="15"></ng-letter-avatar><strong> {{userFirstname}} {{userLastname}}</strong>
                </a>
              </li>
              <ul class="dropdown-menu nav pull-right" role="menu">
                <li><a ui-sref="account"><i class="fa fa-user"></i>  Mon profil</a></li>
                <li data-match-route="/login"><a ui-sref="login" ng-show="isAuthenticated"><span style="color:red;" class="fa fa-power-off"></span> Se déconnecter</a></li>
              </ul>
              <li data-match-route="/login"><a ui-sref="login" ng-show="!isAuthenticated">Se connecter <span class="fa fa-sign-in"></span></a></li>
            <!--   <li data-match-route="/login"><a ui-sref="login" ng-show="isAuthenticated">Se déconnecter <span style="color:red;" class="fa fa-power-off"></span></a></li> -->
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Main content -->
    <div class="container" >
      <div ng-include="'views/shared/project.sidenav.html'" layout="vertical" layout-fill></div>
      <ui-view></ui-view>
    </div>

    <!-- Footer content -->
    <div class="footer">
      <div layout >
        <div flex="50" layout layout-align="center">
          <div>
            <b>M2 MIAGE Bordeaux - Projet Techniques de Développement Avancées - &copy; 2016</b>
          </div>
        </div>
        <div flex="15" layout layout-align="center">
          <div>Version API : <b>{{ apiVersion }}</b></div>
        </div>
        <div flex="15" layout layout-align="center">
          <div>Version client : <b>{{ appClientVersion }}</b></div>
        </div>
        <div flex="20" layout layout-align="center">
          <div>
            <a href="https://github.com/florian2412/POM"><i class="fa fa-github" aria-hidden="true"></i> Projet POM</a>
          </div>
        </div>
      </div>
    </div>
</body>
</html>
